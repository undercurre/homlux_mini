<view id="card" class="{{showShadow?'card-shadow':''}} card-clip w-160rpx h-216rpx rounded-32rpx flex-col-center relative overflow-hidden" catchtap="handleCardTap" bind:longpress="handleLongPress">
  <view wx:if="{{select}}" class="w-160rpx h-216rpx absolute left-0 top-0 box-border select-border rounded-32rpx bg-hex-fff"></view>
  <view wx:else class="w-160rpx h-216rpx rounded-32rpx box-border {{showGradientBg?'show-control-bg white-border':'bg-hex-f7f7f7'}}"></view>
  <view class="absolute left-0 top-16rpx w-160rpx flex-center">
    <text class="text-26rpx text-hex-353535 font-medium">{{topTitle}}</text>
  </view>

  <view class="absolute left-0 top-0 flex-col-center w-full h-full">
    <image src="{{picUrl}}" class="w-72rpx h-72rpx"></image>
    <view wx:if="{{showControl}}" class="{{deviceType==='switch'?'h-40rpx':'h-12rpx'}} flex items-start">
      <text class="text-20rpx text-black-tips leading-none" wx:if="{{deviceType==='switch'}}">{{bottomDesc}}</text>
    </view>
  </view>

  <view wx:if="{{ripple}}" class="absolute left-80rpx w-250rpx h-250rpx rounded-999 {{onOff ? 'ripple-on' : 'ripple-off'}}" style="animation: ripple-{{onOff ? 'on' : 'off'}} 1s ease forwards;"></view>

  <view wx:if="{{editMode}}" class="absolute w-full left-0 bottom-12rpx flex-center">
    <image src="/assets/img/base/{{editSelect?'check': 'uncheck'}}.png" class="w-36rpx h-36rpx" />
  </view>
  <view wx:elif="{{showControl}}" class="absolute left-0 bottom-0 w-160rpx flex-col-center" catchtap="handlePowerTap">
    <view class="h-12rpx"></view>
    <text wx:if="{{!deviceInfo.onLineStatus}}" class="text-24rpx text-hex-fbbb32 mb-22rpx">离线</text>
    <view wx:else>
      <view wx:if="{{deviceInfo.linkSceneName}}" class="flex-center mb-22rpx">
        <image src="/assets/img/base/scene-switch-btn.png" class="w-22rpx h-22rpx mt-4rpx" />
        <text class="text-blue text-24rpx leading-none ml-4rpx">{{deviceInfo.linkSceneName}}</text>
      </view>
      <image wx:else src="{{controlBtnPic}}" class="w-48rpx h-48rpx mb-6rpx"></image>
    </view>
  </view>
  <view wx:else class="absolute left-0 bottom-18rpx w-160rpx flex-center">
    <text wx:if="{{deviceType === 'switch' && showBtnDetail}}" class="text-20rpx mb-4rpx {{deviceInfo.onLineStatus ? 'text-black-tips' : 'text-hex-fbbb32'}}">{{bottomDesc}}</text>
    <text wx:elif="{{!deviceInfo.onLineStatus}}" class="text-24rpx text-hex-fbbb32">离线</text>
  </view>
</view>
<van-toast id="van-toast" />
