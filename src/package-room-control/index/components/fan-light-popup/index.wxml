<mz-popup
  show="{{ show }}"
  position="bottom"
  round
  closeable
  bind:close="handleClose"
>
  <view class="w-750rpx bg-white flex-col flex items-center py-20rpx">
    <!-- tab -->
    <view class="flex justify-evenly w-686rpx mt-10rpx relative">
      <view class="flex-col-center">
        <text class="mx-24rpx mt-16rpx tab-title">{{deviceInfo.deviceName}}</text>
      </view>
      <!-- 设置、关闭按钮 -->
      <view
        class="absolute left-20rpx top-16rpx"
        bind:tap="toDetail"
      >
        <image
          class="w-48 h-48"
          src="/assets/img/home-manage/setting.png"
        ></image>
      </view>
    </view>

    <view
      class="offline-tips"
      wx:if="{{isLanCtl}}"
    >
      <image
        class="w-36 h-36 ml-48rpx"
        src="/assets/img/base/info.png"
      ></image>
      <text class="text-hex-555659 text-24 ml-32rpx">当前设备仅支持局域网控制，请检查您的网络！</text>
    </view>
    <!-- tab内容 -->
    <view class="flex flex-col items-center flex-1 pt-10rpx">
      <!-- 灯光控制 -->
      <view
        wx:if="{{deviceInfo.proType==='0x13'}}"
        class="flex flex-col w-750rpx mb-22rpx"
      >
        <text class="text-32rpx mt-70rpx ml-48rpx {{deviceProp.power ? 'text-black-59' : 'text-hex-a2a2a2'}}">亮度 | {{lightInfoInner.brightness}}%</text>
        <view class="px-48rpx pt-28rpx">
          <mz-slider
            catch:tap="sliderTap"
            catch:slideEnd="handleLevelChange"
            catch:slideChange="handleLevelDrag"
            disabled="{{!deviceProp.power}}"
            value="{{lightInfoInner.brightness}}"
            btn-width="{{40}}"
            btn-height="{{40}}"
            min="{{1}}"
            active-color="linear-gradient(90deg, rgba(80,127,255,0.8) 5%, rgba(116,153,255,0.18) 100%)"
            key="brightness"
          >
          </mz-slider>
        </view>

        <text class="text-32rpx mt-66rpx ml-48rpx {{deviceProp.power ? 'text-black-59' : 'text-hex-a2a2a2'}}">色温 | {{colorTempK}}K</text>
        <view class="px-48rpx pt-28rpx">
          <mz-slider
            catch:tap="sliderTap"
            catch:slideEnd="handleColorTempChange"
            catch:slideChange="handleColorTempDrag"
            disabled="{{!deviceProp.power}}"
            value="{{lightInfoInner.colorTemperature}}"
            use-button-slot
            btn-height="{{80}}"
            btn-width="{{80}}"
            custom-class="slider-color-temp-bar"
            active-color="rgba(0,0,0,0)"
            key="colorTemp"
          >
            <view
              slot="button"
              class="slider-button"
            />
          </mz-slider>
        </view>
      </view>
    </view>
  </view>
</mz-popup>

<mz-toast id="mz-toast" />
<mz-dialog
  id="mz-dialog"
  confirm-button-color="#27282A"
  cancel-button-color="#27282A"
/>
