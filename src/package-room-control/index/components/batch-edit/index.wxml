<import src="/commons/templates/popup.wxml" />
<view class="popup-shadow fixed left-0 bottom-0 z-300 w-750rpx h-240rpx bg-white">
  <view class="wh-full flex-center">
    <view class="flex-col-center flex-1 {{canEditName ?'':'opacity-50'}}" bindtap="handleEditNamePopup">
      <view class="flex-center w-100rpx h-100rpx bg-hex-f6fafd rounded-999">
        <image src="/assets/img/device-control/edit.png" class="w-36rpx h-36rpx" />
      </view>
      <text class="text-black-tips text-24rpx mt-26rpx">修改名称</text>
    </view>
    <view class="flex-col-center flex-1 {{!editSelect.length ?'opacity-50':''}}" bindtap="handleMoveRoomPopup">
      <view class="flex-center w-100rpx h-100rpx bg-hex-f6fafd rounded-999">
        <image src="/assets/img/device-control/move.png" class="w-36rpx h-36rpx" />
      </view>
      <text class="text-black-tips text-24rpx mt-26rpx">移动房间</text>
    </view>
    <view class="flex-col-center flex-1 {{!editSelect.length ?'opacity-50':''}}" bindtap="handleDeleteDialog">
      <view class="flex-center w-100rpx h-100rpx bg-hex-f6fafd rounded-999">
        <image src="/assets/img/device-control/del.png" class="w-36rpx h-36rpx" />
      </view>
      <text class="text-black-tips text-24rpx mt-26rpx">删除</text>
    </view>
  </view>

  <van-popup show="{{ showEditName }}" z-index="2000" round position="bottom" bind:close="handleClose">
    <view class="w-750rpx relative flex flex-col items-center">
      <template is="close" />
      <template is="title" data="{{title: '修改名称'}}" />
      <view class="flex w-750rpx">
        <text class="text-28rpx text-black-2a ml-48rpx mt-68rpx">{{editNameTitle}}</text>
      </view>
      <view class="flex-1 mt-32rpx w-686rpx mb-126rpx">
        <van-field model:value="{{ editName }}" placeholder="请输入{{editNameTitle}}" custom-style="padding: 28rpx 32rpx;border: 2rpx solid #DDDDDD;border-radius: 24rpx;" clearable="{{true}}"> </van-field>
      </view>
      <template is="bottom-btn" data="{{disabled: deviceName.length===0}}" />
    </view>
  </van-popup>

  <van-popup show="{{ showEditRoom }}" round position="bottom" bind:close="handleClose">
    <view class="w-750rpx flex flex-col items-center">
      <template is="title" data="{{title: '所在房间'}}" />
      <view class="w-750rpx flex mt-44rpx mb-16rpx">
        <text class="text-28rpx ml-48rpx">选择房间</text>
      </view>
      <view class="w-686rpx">
        <view class="flex flex-wrap">
          <view wx:for="{{roomList}}" wx:key="roomId" data-id="{{item.roomId}}" bindtap="handleRoomSelect" class="mt-16rpx mr-32rpx rounded-999 px-40rpx py-10rpx flex flex-center {{item.roomId === roomId ? 'bg-select' : 'bg-hex-dfe1e5'}}">
            <text class="text-28rpx text-normal {{item.roomId === roomId ? 'text-white' : 'text-black-59'}}">{{item.roomName}}</text>
          </view>
        </view>
      </view>
      <view class="h-32rpx"></view>
      <template is="bottom-btn" />
      <view class="h-32rpx"></view>
    </view>
  </van-popup>

  <van-toast id="van-toast" />
  <van-dialog id="van-dialog" />
</view>